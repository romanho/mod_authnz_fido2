CFLAGS = @JWT_CFLAGS@ @JANSSON_CFLAGS@ @CRYPTO_CFLAGS@
LIBS   = @JWT_LIBS@ @JANSSON_LIBS@ @CRYPTO_LIBS@

CSRC = mod_authnz_fido2.c conf.c util.c

all: mod_authnz_fido2.so
mod_authnz_fido2.so: $(CSRC)
	@APXS@ -o $@ -c $(CFLAGS) $(LIBS) $(CSRC)

$(CSRC): mod_authnz_fido2.h

install: mod_authnz_fido2.so
	@APXS@ -i mod_authnz_fido2.so

clean:
	rm -f *.{la,lo,slo,o}
	rm -rf .libs

distclean: clean
	rm -f config.log config.status configure Makefile
	rm -rf autom4te.cache
